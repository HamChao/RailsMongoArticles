<!DOCTYPE html>
<html>
<head>
  <title>MongoArticles</title>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
  <%= stylesheet_link_tag    'bootstrap.min', media: "all", 'data-turbolinks-track' => true %>
  <%= stylesheet_link_tag    'article-main' %>
  <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css">
  <%= stylesheet_link_tag    'medium-editor' %>
  <%= stylesheet_link_tag    'default', id: "medium-editor-theme"%>
</head>
<body>
  <div class="navbar navbar-custom navbar-fixed-top bs-docs-nav" id="top" role="banner">
      <div class="container">
          <div class="navbar-header">
              <%= link_to 'Simple Articles', root_path, class: 'navbar-brand' %>
          </div>
          <nav id="bs-navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav">
                  <li> <a href="https://docs.mongodb.org/ecosystem/tutorial/mongoid-documents">Documentations</a> </li>
                  <li class="active"> <a href="http://getbootstrap.com/components">Components</a> </li>
              </ul>
              <ul class="nav navbar-nav navbar-right">
                <% if user_signed_in? %>
                  <li><%= link_to current_user.email, edit_user_registration_path %></li>
                  <li><%= link_to 'Logout', destroy_user_session_path, method: :delete %></li>
                <% else %>
                  <li><%= link_to 'Sign Up', new_user_registration_path %></li>
                  <li><%= link_to 'Login', new_user_session_path %></li>
                <% end %>
              </ul>
          </nav>
      </div>
  </div>

  <div class="container">
    <% if notice %>
      <div class="alert alert-info"><%= notice %></div>
    <% end %>
    <% if alert %>
      <div class="alert alert-warning"><%= alert %></div>
    <% end %>
    
    <%= yield %>
  </div>

  <%= javascript_include_tag  'jquery-1.12.0.min' %>
  <%= javascript_include_tag  'bootstrap.min' %>
  <%= javascript_include_tag  'jquery.bootstrap-autohidingnavbar.min' %>
  <%= javascript_include_tag  'medium-editor' %>
  <script>
    $("div.navbar-fixed-top").autoHidingNavbar();

    var editor = new MediumEditor('.editable', {
      toolbar: {
        buttons: ['bold', 'italic', 'underline', 'strikethrough', 'quote', 'anchor', 'image', 'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull', 'superscript', 'subscript', 'orderedlist', 'unorderedlist', 'pre', 'removeFormat', 'outdent', 'indent', 'h2', 'h3'],
      },
      buttonLabels: 'fontawesome'
    });
    cssLink = document.getElementById('medium-editor-theme');

    document.getElementById('my-form').onsubmit = function (e) {
      var items = document.querySelectorAll('.editable'),
          i,
          input;
      for (i = 0; i < items.length; i += 1) {
          input = document.getElementById(items[i].getAttribute('data-field-id'));
          input.value = items[i].innerHTML;
      }
      console.log(document.getElementById('hidden-content').value);
    };

    var editorHideToolbar = new MediumEditor('.editable-hide-toolbar', {
      toolbar: false
    });
  </script>
</body>
</html>
